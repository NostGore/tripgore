<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRIPGORE</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Favicons -->
    <link rel="icon" href="https://files.catbox.moe/1b7bnr.png" type="image/png">

    <!-- Graph -->
    <meta property="og:title" content="TRIPGORE | ¬°Horror sin fin!">
    <meta property="og:description" content="Horror global, tu pagina segura.">
    <meta property="og:image" content="https://files.catbox.moe/1b7bnr.png">
    <meta property="og:url" content="https://tripgore.space">
    <meta property="og:type" content="website">

    <!-- tagm -->
    <meta name="monetag" content="583437fff63bc3cd76e7c597c20932d1">
    <script src="https://grookilteepsou.net/act/files/tag.min.js?z=9147040" data-cfasync="false" async></script>

    <script>(function (d, z, s) {s.src = 'https://' + d + '/401/' + z; try {(document.body || document.documentElement).appendChild(s)} catch (e) { } })('groleegni.net', 9394872, document.createElement('script'))</script>

    <script src="script.js"></script>
    <script src="function-scripts/header.js"></script>
    <script src="function-scripts/footer.js"></script>
</head>

<body>
    <!-- Animaci√≥n de entrada de terror -->
    <div id="horrorLoadingScreen" class="horror-loading-screen">
        <div class="screen-flash"></div>
        <div class="horror-decorations">
            <div class="horror-decoration">üï∑Ô∏è</div>
            <div class="horror-decoration">üíÄ</div>
            <div class="horror-decoration">‚ö∞Ô∏è</div>
            <div class="horror-decoration">ü©∏</div>
            <div class="horror-decoration">üëª</div>
            <div class="horror-decoration">üî™</div>
            <div class="blood-drip"></div>
            <div class="blood-drip"></div>
            <div class="blood-drip"></div>
        </div>
        <div class="horror-logo-container">
            <img src="https://files.catbox.moe/cjmaz9.png" alt="TRIPGORE" class="horror-logo">
        </div>
        <div class="horror-text">El mejor contenido Sangriento</div>
    </div>

    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="https://files.catbox.moe/cjmaz9.png" alt="TRIPGORE" class="logo-img">
            </div>
        </div>
    </header>

    <main class="main">
        <div class="main-layout">
            <div class="content-wrapper">
                <div class="container">
                    <!-- SECCI√ìN RECOMENDADOS -->
                    <section class="section">
                        <h2 class="section-title">RECOMENDADOS</h2>
                        <div class="content-grid" id="recomendados-grid">
                            <!-- Los videos recomendados se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    <!-- SECCI√ìN 1 -->
                    <section class="section">
                        <h2 class="section-title">ASESINATOS</h2>
                        <div class="content-grid" data-category="ASESINATOS">
                            <!-- Videos se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    <!-- SECCI√ìN 2 -->
                    <section class="section">
                        <h2 class="section-title">ACCIDENTES</h2>
                        <div class="content-grid" data-category="ACCIDENTES">
                            <!-- Videos se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    <!-- SECCI√ìN 3 -->
                    <section class="section">
                        <h2 class="section-title">INCIDENTES</h2>
                        <div class="content-grid" data-category="INCIDENTES">
                            <!-- Videos se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    <!-- SECCI√ìN 4 -->
                    <section class="section">
                        <h2 class="section-title">SUICIDIOS</h2>
                        <div class="content-grid" data-category="SUICIDIOS">
                            <!-- Videos se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    <!-- SECCI√ìN 5 -->
                    <section class="section">
                        <h2 class="section-title">AUTOLESIONES</h2>
                        <div class="content-grid" data-category="AUTOLESIONES">
                            <!-- Videos se cargar√°n aqu√≠ -->
                        </div>
                    </section>

                    
                </div>
            </div>

            
        </div>
    </main>
    <script type="module">
        import {authFunctions, updateUserDisplay, videoFunctions} from './function-scripts/firebase.js';
        import mediaDB from './mediaDB.js';
        import './function-scripts/search.js';

        // Make videoFunctions globally available for search
        window.videoFunctions = videoFunctions;

        document.addEventListener('DOMContentLoaded', async function () {
            // Wait for auth state to be determined
            await updateUserDisplay();

            loadRecommendedVideos();
            loadApprovedVideos();

            // Function to load recommended videos from mediaDB
            function loadRecommendedVideos() {
                const recommendedContainer = document.querySelector('.recommended-videos .videos-grid');
                if (!recommendedContainer) return;

                // Filter videos that have content (not empty)
                const validVideos = mediaDB.filter(video =>
                    video.titulo && video.portada && video.video && video.autor && video.categoria
                );

                // Get random 6 videos for recommendations
                const shuffled = validVideos.sort(() => 0.5 - Math.random());
                const recommendedVideos = shuffled.slice(0, 6);

                recommendedContainer.innerHTML = '';

                // Function to generate URL-friendly ID from title
                function generateVideoId(title) {
                    return title
                        .toLowerCase()
                        .replace(/[^\w\s-]/g, '') // Remove emojis and special characters
                        .replace(/\s+/g, '-') // Replace spaces with hyphens
                        .replace(/-+/g, '-') // Replace multiple hyphens with single
                        .trim()
                        .replace(/^-+|-+$/g, '') // Remove leading/trailing hyphens
                        .replace(/[^a-z0-9]*$/g, ''); // Remove all trailing non-alphanumeric characters
                }

                recommendedVideos.forEach((video, index) => {
                    const videoCard = document.createElement('div');
                    videoCard.className = 'content-card';
                    videoCard.innerHTML = `
                        <img src="${video.portada}" alt="${video.titulo}" class="content-image"
                             onerror="this.src='https://via.placeholder.com/300x180/8B0000/FFFFFF?text=Error+Imagen'">
                        <div class="content-overlay">
                            <i class="fa-solid fa-play"></i>
                        </div>
                        <div class="content-info">
                            <h3 class="content-title">${video.titulo}</h3>
                            <div class="content-meta">
                                <i class="fa-solid fa-user"></i>
                                ${video.autor}
                            </div>
                          <div class="content-meta">
                                <i class="fa-solid fa-tags"></i>
                                ${video.categoria}
                            </div>
                        </div>
                    `;

                    videoCard.addEventListener('click', () => {
                        // Generate URL-friendly ID from title
                        const videoIdUrl = generateVideoId(video.titulo);
                        window.location.href = `video.html?id=${videoIdUrl}`;
                    });

                    recommendedContainer.appendChild(videoCard);
                });
            }

            // Function to load approved videos from mediaDB
            function loadApprovedVideos() {
                const videosContainer = document.querySelector('.category-videos .videos-grid');
                if (!videosContainer) return;

                // Filter videos that have content (not empty)
                const validVideos = mediaDB.filter(video =>
                    video.titulo && video.portada && video.video && video.autor && video.categoria
                );

                videosContainer.innerHTML = '';

                // Function to generate URL-friendly ID from title
                function generateVideoId(title) {
                    return title
                        .toLowerCase()
                        .replace(/[^\w\s-]/g, '') // Remove emojis and special characters
                        .replace(/\s+/g, '-') // Replace spaces with hyphens
                        .replace(/-+/g, '-') // Replace multiple hyphens with single
                        .trim()
                        .replace(/^-+|-+$/g, '') // Remove leading/trailing hyphens
                        .replace(/[^a-z0-9]*$/g, ''); // Remove all trailing non-alphanumeric characters
                }

                validVideos.forEach((video, index) => {
                    const videoCard = document.createElement('div');
                    videoCard.className = 'content-card';
                    videoCard.innerHTML = `
                        <img src="${video.portada}" alt="${video.titulo}" class="content-image"
                             onerror="this.src='https://via.placeholder.com/300x180/8B0000/FFFFFF?text=Error+Imagen'">
                        <div class="content-info">
                            <h3>${video.titulo}</h3>
                            <div class="content-meta">
                                <i class="fa-solid fa-user"></i>
                                Por: ${video.autor}
                            </div>
                            <div class="content-meta">
                                <i class="fa-solid fa-tags"></i>
                                ${video.categoria}
                            </div>
                        </div>
                    `;

                    videoCard.addEventListener('click', () => {
                        // Generate URL-friendly ID from title
                        const videoIdUrl = generateVideoId(video.titulo);
                        window.location.href = `video.html?id=${videoIdUrl}`;
                    });

                    videosContainer.appendChild(videoCard);
                });
            }

            const loginLink = document.getElementById('loginLink');
            const registerLink = document.getElementById('registerLink');
            const adminLink = document.getElementById('adminLink');
            const logoutLink = document.getElementById('logoutLink');

            // Add logout functionality
            logoutLink.addEventListener('click', async function (e) {
                e.preventDefault();
                try {
                    const result = await authFunctions.logout();
                    if (result.success) {
                        // Update display immediately
                        updateUserDisplay();
                        // Redirect to home page
                        window.location.href = 'index.html';
                    } else {
                        console.error('Error al cerrar sesi√≥n:', result.error);
                    }
                } catch (error) {
                    console.error('Error al cerrar sesi√≥n:', error);
                }
            });

            // Listen for auth state changes
            authFunctions.onAuthStateChanged((user) => {
                if (user) {
                    // User is logged in
                    loginLink.style.display = 'none';
                    registerLink.style.display = 'none';
                    adminLink.style.display = 'block';
                    logoutLink.style.display = 'block';

                    // User is logged in - moderation features available
                } else {
                    // User is logged out
                    loginLink.style.display = 'block';
                    registerLink.style.display = 'block';
                    adminLink.style.display = 'none';
                    logoutLink.style.display = 'none';
                }
            });

            function loadRecommendedVideos() {
                const recomendadosGrid = document.getElementById('recomendados-grid');
                if (!recomendadosGrid) return;

                // Mostrar animaci√≥n de carga
                showLoadingAnimation(recomendadosGrid);

                // Filter valid videos from mediaDB
                const validVideos = mediaDB.filter(video =>
                    video.titulo && video.portada && video.video && video.autor && video.categoria
                );

                if (validVideos.length === 0) {
                    recomendadosGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; color: #FFB6C1; padding: 40px;">
                            <i class="fa-solid fa-exclamation-circle" style="font-size: 48px; margin-bottom: 20px;"></i>
                            <p>No hay videos disponibles para mostrar</p>
                        </div>
                    `;
                    return;
                }

                // Funci√≥n para convertir fecha DD/MM/YY a Date objeto
                function parseDate(dateString) {
                    const [day, month, year] = dateString.split('/');
                    // Asumiendo que los a√±os de 2 d√≠gitos son del 2000
                    const fullYear = parseInt(year) < 50 ? 2000 + parseInt(year) : 1900 + parseInt(year);
                    return new Date(fullYear, parseInt(month) - 1, parseInt(day));
                }

                // Ordenar por fecha (m√°s recientes primero) y tomar 8 videos
                const sortedVideos = validVideos.sort((a, b) => {
                    const dateA = parseDate(a.fecha);
                    const dateB = parseDate(b.fecha);
                    return dateB - dateA; // Orden descendente
                });
                const recommendedVideos = sortedVideos.slice(0, 8);

                recomendadosGrid.innerHTML = '';

                // Function to generate URL-friendly ID from title
                function generateVideoId(title) {
                    return title
                        .toLowerCase()
                        .replace(/[^\w\s-]/g, '') // Remove emojis and special characters
                        .replace(/\s+/g, '-') // Replace spaces with hyphens
                        .replace(/-+/g, '-') // Replace multiple hyphens with single
                        .trim()
                        .replace(/^-+|-+$/g, '') // Remove leading/trailing hyphens
                        .replace(/[^a-z0-9]*$/g, ''); // Remove all trailing non-alphanumeric characters
                }

                recommendedVideos.forEach((video, index) => {
                    const videoCard = document.createElement('div');
                    videoCard.className = 'content-card';
                    videoCard.style.cursor = 'pointer';
                    videoCard.innerHTML = `
                        <div class="card-image-container">
                            <img src="${video.portada}" alt="${video.titulo}" class="card-image" 
                                 onerror="this.src='https://via.placeholder.com/300x180/8B0000/FFFFFF?text=Error+Imagen'">
                        </div>
                        <div class="card-overlay">
                            <i class="fa-solid fa-play"></i>
                        </div>
                        <div class="card-content">
                            <h4>${video.titulo}</h4>
                            <div class="card-info">
                                <p class="card-author"><i class="fa-solid fa-user"></i> Autor: ${video.autor}</p>
                                <p class="card-date"><i class="fa-solid fa-calendar-day"></i> Subido: ${video.fecha}</p>
                            </div>
                        </div>
                    `;

                    videoCard.addEventListener('click', () => {
                        window.location.href = `video.html?id=${video.id}`;
                    });

                    // Load stats for this video
                    loadVideoStats(video.id);

                    recomendadosGrid.appendChild(videoCard);
                });
            }

            function loadApprovedVideos() {
                const categories = ['ASESINATOS', 'ACCIDENTES', 'INCIDENTES', 'SUICIDIOS', 'AUTOLESIONES'];

                // Mostrar animaci√≥n de carga para todas las categor√≠as
                categories.forEach(category => {
                    const contentGrid = document.querySelector(`[data-category="${category}"]`);
                    if (contentGrid) {
                        showLoadingAnimation(contentGrid);
                    }
                });

                // Filter videos from mediaDB by category
                categories.forEach(category => {
                    const validVideos = mediaDB.filter(video =>
                        video.titulo && video.portada && video.video && video.autor && video.categoria &&
                        video.categoria.toUpperCase().includes(category)
                    );
                    updateCategorySection(category, validVideos);
                });
            }



            function showLoadingAnimation(contentGrid) {
                contentGrid.innerHTML = `
                    <div class="loading-container" style="grid-column: 1 / -1; text-align: center; color: #FFB6C1; padding: 40px;">
                        <div class="loading-spinner">
                            <i class="fa-solid fa-circle-notch fa-spin" style="font-size: 48px; margin-bottom: 20px; color: #DC143C;"></i>
                        </div>
                        <p style="font-size: 18px; margin-bottom: 10px;">Espere, cargando videos...</p>
                        <div class="loading-dots">
                            <span>.</span><span>.</span><span>.</span>
                        </div>
                    </div>
                `;
            }

            function updateCategorySection(category, videos) {
                const sections = document.querySelectorAll('.section');
                let targetSection = null;

                sections.forEach(section => {
                    const title = section.querySelector('.section-title');
                    if (title && title.textContent.trim() === category) {
                        targetSection = section;
                    }
                });

                if (!targetSection) return;

                const contentGrid = targetSection.querySelector('.content-grid');
                if (!contentGrid) return;

                if (videos.length === 0) {
                    contentGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; color: #FFB6C1; padding: 40px;">
                            <i class="fa-solid fa-exclamation-circle" style="font-size: 48px; margin-bottom: 20px;"></i>
                            <p>No hay videos aprobados en esta categor√≠a</p>
                        </div>
                    `;
                    return;
                }

                // Funci√≥n para convertir fecha DD/MM/YY a Date objeto
                function parseDate(dateString) {
                    const [day, month, year] = dateString.split('/');
                    // Asumiendo que los a√±os de 2 d√≠gitos son del 2000
                    const fullYear = parseInt(year) < 50 ? 2000 + parseInt(year) : 1900 + parseInt(year);
                    return new Date(fullYear, parseInt(month) - 1, parseInt(day));
                }

                // Ordenar videos por fecha (m√°s recientes primero)
                const sortedVideos = videos.sort((a, b) => {
                    const dateA = parseDate(a.fecha);
                    const dateB = parseDate(b.fecha);
                    return dateB - dateA; // Orden descendente (m√°s recientes primero)
                });

                // Limpiar contenido previo
                contentGrid.innerHTML = '';

                // Remover bot√≥n "Ver m√°s" previo si existe
                const existingBtn = targetSection.querySelector('.show-more-btn');
                if (existingBtn) {
                    existingBtn.remove();
                }

                // Mostrar solo los primeros 4 videos inicialmente
                const initialVideos = sortedVideos.slice(0, 4);
                const remainingVideos = sortedVideos.slice(4);

                // Crear y agregar los primeros 4 videos
                initialVideos.forEach(video => {
                    const videoCard = createVideoCard(video);
                    contentGrid.appendChild(videoCard);
                });

                // Si hay m√°s de 4 videos, crear el bot√≥n "Ver m√°s" en el t√≠tulo
                if (remainingVideos.length > 0) {
                    const sectionTitle = targetSection.querySelector('.section-title');
                    const showMoreBtn = document.createElement('button');
                    showMoreBtn.className = 'show-more-btn';
                    showMoreBtn.innerHTML = `
                        &#43; ${remainingVideos.length}
                    `;

                    let isExpanded = false;

                    showMoreBtn.addEventListener('click', () => {
                        if (!isExpanded) {
                            // Mostrar todos los videos restantes
                            remainingVideos.forEach(video => {
                                const videoCard = createVideoCard(video);
                                contentGrid.appendChild(videoCard);
                            });
                            showMoreBtn.innerHTML = `&#8722; Menos`;
                            showMoreBtn.classList.add('hide-btn');
                            isExpanded = true;
                        } else {
                            // Ocultar videos adicionales
                            const allCards = contentGrid.querySelectorAll('.content-card');
                            for (let i = 4; i < allCards.length; i++) {
                                allCards[i].remove();
                            }
                            showMoreBtn.innerHTML = `&#43; ${remainingVideos.length}`;
                            showMoreBtn.classList.remove('hide-btn');
                            isExpanded = false;
                        }
                    });

                    sectionTitle.appendChild(showMoreBtn);
                }
            }

            function createVideoCard(video) {
                // Use the ID from the database directly
                const videoIdUrl = video.id;
                const actualIndex = mediaDB.indexOf(video);
                const videoCard = document.createElement('div');
                videoCard.className = 'content-card';
                videoCard.style.cursor = 'pointer';
                videoCard.innerHTML = `
                    <div class="card-image-container">
                        <img src="${video.portada}" alt="${video.titulo}" class="card-image" 
                             onerror="this.src='https://via.placeholder.com/300x180/8B0000/FFFFFF?text=Error+Imagen'">
                    </div>
                    <div class="card-overlay">
                        <i class="fa-solid fa-play"></i>
                    </div>
                    <div class="card-content">
                        <h4>${video.titulo}</h4>
                        <div class="card-info">
                            <p class="card-author"><i class="fa-solid fa-user"></i> Autor: ${video.autor}</p>
                            <p class="card-date"><i class="fa-solid fa-calendar-day"></i> Subido: ${video.fecha}</p>
                        </div>
                    </div>
                `;

                videoCard.addEventListener('click', () => {
                    window.location.href = `video.html?id=${videoIdUrl}`;
                });

                // Load stats for this video
                loadVideoStats(videoIdUrl);

                return videoCard;
            }

            // Sistema de animaci√≥n del √∫ltimo mensaje del chat
            function initLastMessageAnimation() {
                const lastMessageAnimation = document.getElementById('lastMessageAnimation');
                const lastMessageText = document.querySelector('.last-message-text');
                const lastMessageAuthor = document.querySelector('.last-message-author');

                if (!lastMessageAnimation) return;

                let lastShownMessageId = localStorage.getItem('lastShownChatMessage');

                // Importar Firebase modules
                import('./function-scripts/firebase.js').then(({getDatabase, ref, onValue, query, orderByChild, limitToLast}) => {
                    const realtimeDb = getDatabase();
                    const messagesRef = ref(realtimeDb, 'chat_messages');
                    const lastMessageQuery = query(messagesRef, orderByChild('timestamp'), limitToLast(1));

                    onValue(lastMessageQuery, (snapshot) => {
                        snapshot.forEach((childSnapshot) => {
                            const message = childSnapshot.val();
                            const messageId = childSnapshot.key;

                            // Solo mostrar si es un mensaje nuevo y diferente al √∫ltimo mostrado
                            if (messageId !== lastShownMessageId && message && message.text) {
                                setTimeout(() => {
                                    showLastMessage(message, messageId);
                                }, 1000);
                            }
                        });
                    });
                }).catch(error => {
                    console.log('Firebase no disponible para animaci√≥n de mensajes:', error);
                });

                function showLastMessage(message, messageId) {
                    if (lastMessageText && lastMessageAuthor) {
                        lastMessageText.textContent = message.text;
                        lastMessageAuthor.textContent = `- ${message.author}`;

                        lastMessageAnimation.classList.remove('hide');
                        lastMessageAnimation.classList.add('show');
                        lastMessageAnimation.style.display = 'block';

                        localStorage.setItem('lastShownChatMessage', messageId);

                        // Ocultar despu√©s de 5 segundos
                        setTimeout(() => {
                            hideLastMessage();
                        }, 5000);
                    }
                }

                function hideLastMessage() {
                    lastMessageAnimation.classList.remove('show');
                    lastMessageAnimation.classList.add('hide');

                    setTimeout(() => {
                        lastMessageAnimation.style.display = 'none';
                        lastMessageAnimation.classList.remove('hide');
                    }, 500);
                }

                // Click en la animaci√≥n lleva al chat
                lastMessageAnimation.addEventListener('click', () => {
                    window.location.href = 'chat.html';
                });

                // Verificar cada 20 segundos si hay mensajes nuevos
                setInterval(() => {
                    // Este intervalo act√∫a como backup, la l√≥gica principal est√° en el listener de Firebase
                }, 20000);
            }

            // Inicializar la animaci√≥n solo si estamos en la p√°gina de inicio
            if (window.location.pathname.endsWith('index.html') || window.location.pathname === '/') {
                // Esperar a que se cargue Firebase
                setTimeout(() => {
                    initLastMessageAnimation();
                }, 2000);
            }

            // Inicializar funcionalidad del footer
            initFooter();

            

            function initFooter() {
                // Cargar contador total de videos
                loadTotalVideoCount();

                // Configurar bot√≥n de scroll hacia arriba
                const scrollToTopBtn = document.getElementById('scrollToTop');
                if (scrollToTopBtn) {
                    scrollToTopBtn.addEventListener('click', () => {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    });

                    // Mostrar/ocultar bot√≥n seg√∫n scroll
                    window.addEventListener('scroll', () => {
                        if (window.pageYOffset > 300) {
                            scrollToTopBtn.style.opacity = '1';
                            scrollToTopBtn.style.visibility = 'visible';
                        } else {
                            scrollToTopBtn.style.opacity = '0';
                            scrollToTopBtn.style.visibility = 'hidden';
                        }
                    });

                    // Inicialmente oculto
                    scrollToTopBtn.style.opacity = '0';
                    scrollToTopBtn.style.visibility = 'hidden';
                    scrollToTopBtn.style.transition = 'all 0.3s ease';
                }
            }

            function loadTotalVideoCount() {
                const totalVideoCountElement = document.getElementById('totalVideoCount');
                if (!totalVideoCountElement) return;

                const validVideos = mediaDB.filter(video =>
                    video.titulo && video.portada && video.video && video.autor && video.categoria
                );
                totalVideoCountElement.textContent = validVideos.length;
            }

            

            // Function to load video stats (likes and comments)
            function loadVideoStats(videoId) {
                // Load likes count
                videoFunctions.getLikes(videoId, (likesData) => {
                    const likesElement = document.querySelector(`[data-video-id="${videoId}"].likes-count`);
                    if (likesElement) {
                        likesElement.textContent = likesData.likes.length;
                    }
                });

                // Load comments count
                videoFunctions.getComments(videoId, (comments) => {
                    const commentsElement = document.querySelector(`[data-video-id="${videoId}"].comments-count`);
                    if (commentsElement) {
                        commentsElement.textContent = comments.length;
                    }
                });
            }
        });
    </script>

    <!-- Animaci√≥n del √∫ltimo mensaje del chat -->
    <div id="lastMessageAnimation" class="last-message-animation" style="display: none;">
        <div class="last-message-content">
            <i class="fa-solid fa-comments"></i>
            <span class="last-message-text"></span>
            <div class="last-message-author"></div>
        </div>
    </div>

    

    <script type="module" src="function-scripts/modal.js"></script>
    <script src="submenu/donaciones.js"></script>

    <!-- Script para animaci√≥n de entrada de terror -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const horrorScreen = document.getElementById('horrorLoadingScreen');

            // Asegurar que la animaci√≥n se muestre al cargar
            horrorScreen.style.display = 'flex';

            // Ocultar la animaci√≥n despu√©s de 2 segundos
            setTimeout(() => {
                horrorScreen.classList.add('hide');

                // Remover completamente del DOM despu√©s de la transici√≥n
                setTimeout(() => {
                    horrorScreen.remove();
                }, 300);
            }, 2000);

            // Prevenir scroll durante la animaci√≥n
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                document.body.style.overflow = 'auto';
            }, 2000);
        });
    </script>

</body>

</html>